(function(){var r,m,l,i,k,u,e,d,p,v,y,z,c,w;if(typeof Object.create!=="function"){Object.create=function(A){function B(){}B.prototype=A;return new B()}}m="undefined";r=this;k=null;u=false;e=true;l={};d="2.2.1";v=u;w={};function s(A){return{}.toString.call(A)}function b(A){return s(A)==="[object Function]"}function o(A){return s(A)==="[object Array]"}function a(A){v=A}function q(B,A){return[].slice.call(B,A||0)}function t(A,B){return A.hasOwnProperty(B)}function f(B,A){var C;for(C in A){if(t(A,C)){B[C]=A[C]}}return B}function h(B,D,C,A){B[D]=(function(F,E){return function(){var H=q(arguments,0);try{return E.apply(this,H)}catch(G){y.log(C,F,G)}finally{H=k}}}(D,A))}function j(B,D){var C,A;C=l[B].creator(D);A=C.init;C.__action__=D;C.oEventsCallbacks=C.oEventsCallbacks||{};C.aListeningEvents=(function(){var F=C.oEventsCallbacks,G,E=[];for(G in F){if(F.hasOwnProperty(G)){E.push(G)}}F=G=null;return E}());C.init=function(E){var F=q(arguments,0).concat(i);D.listen(this.aListeningEvents,this.handleAction,this);A.apply(this,F)};C.handleAction=function(F){var E=this.oEventsCallbacks[F.type];if(typeof E===m){return}E.call(this,F)};C.onDestroy=C.onDestroy||function(){};C.destroy=function(){this.onDestroy();D.stopListen(this.aListeningEvents,this)};return C}function n(C){var E,B,D,A;if(typeof l[C]===m){throw new Error("The module is not registered!")}E=new c();D="";A=function(){};B=j(C,E);if(!v){for(D in B){if(t(B,D)){A=B[D];if(!b(A)){continue}h(B,D,C,A)}}}try{return B}finally{E=k;B=k;D=k;A=k}}y=r.console||{log:function(){}};z=function(){};z.prototype={type:"Module",register:function(B,A){l[B]={creator:A,instances:{}};return l[B]},_merge:function(F,A,D){var B,E,C;B={};C=function(G){return function(){var H=q(arguments,0);G.apply(this,H)}};if(D){B.__super__={};B.__super__.__instance__=F;B.__super__.__call__=function(H,I){var G=this;while(t(G,H)===u){G=G.__instance__.__super__}G[H].apply(B,I)}}for(E in F){if(t(F,E)){if(E==="__super__"){continue}B[E]=F[E]}}for(E in A){if(t(A,E)){if(typeof B.__super__!==m&&b(B[E])){B.__super__[E]=(C(B[E]));B[E]=A[E]}else{B[E]=A[E]}}}try{return B}finally{B=k;E=k}},extend:function(G,C,E){var B,F,J,D,H,A,I;B=l[G];F=G;J=function(K){return K};if(typeof C==="string"){F=C;J=E}else{J=C}if(typeof B===m){return}I=new c();H=J(I);D=B.creator(I);A=this._merge(D,H,(F!==G));A.__action__=I;l[F]={creator:(function(K){return function(){return K}}(A)),instances:{}};B=k;F=k;J=k;D=k;H=k;A=k;I=k},setVars:function(A){if(typeof i!==m){i=f(i,A)}else{i=A}},getVars:function(){return f({},i)},test:function(A,B){if(jstestdriver){a(e);B(n(A));a(u)}},getModule:function(C,B){var D=l[C],A;if(jstestdriver){A=n(C);D.instances[B]=A;return D}return null},start:function(C,B,F,E){var D,A;D=l[C];if(E&&this.isModuleStarted(C,B)){this.stop(C,B)}if(typeof D!==m){A=n(C);D.instances[B]=A;A._id_=B;if(typeof F!==m){A.init(F)}else{A.init()}}D=k;return A},isModuleStarted:function(B,A){return(typeof l[B]!==m&&typeof l[B].instances[A]!==m)},startAll:function(){var A,B;for(A in l){if(t(l,A)){B=l[A];if(typeof B!==m){this.start(A,Math.random())}}}A=k},stop:function(C,A){var D,B;D=l[C];if(typeof D===m){return false}B=D.instances[A];if(typeof D!==m&&typeof B!==m){B.destroy()}D=B=k;return true},stopAll:function(){var B,C,A;for(B in l){if(t(l,B)){C=l[B];if(typeof C!==m){for(A in C.instances){if(t(C.instances,A)){this.stop(B,A)}}}}}B=k},_delete:function(A){if(typeof l[A]!==m){delete l[A]}},remove:function(A){var B=l[A];if(typeof B===m){return null}if(typeof B!==m){try{return B}finally{B=k;this._delete(A)}}}};c=function(){};c.prototype={type:"Action",listen:function(E,C,F){var B,A,D;B="";D=E.length;for(A=0;A<D;A=A+1){B=E[A];if(typeof w[B]===m){w[B]=[]}w[B].push({module:F,handler:C})}},notify:function(D){var F,E,A,C,B;F=D.type;E=k;if(typeof w[F]===m){return}A=w[F].slice();B=A.length;for(C=0;C<B;C=C+1){E=A[C];E.handler.call(E.module,D)}F=k;A=k;C=k;B=k;E=k},stopListen:function(H,F){var B,E,A,D,G,C;B="";E=[];D=H.length;G=0;C=0;for(A=0;A<D;A=A+1){E=[];B=H[A];C=w[B].length;for(G=0;G<C;G=G+1){if(F!==w[B][G].module){E.push(w[B][G])}}w[B]=E;if(w[B].length===0){delete w[B]}}B=k;E=k;A=k;D=k;G=k;C=k},__restore__:function(){w={}}};function g(){return y}function x(A){y=A}p=function(){};p.version=d;p.action=function(){return new c()};p.errorHandler=g;p.setErrorHandler=x;p.module=new z();p.setDebug=a;p.extend=function(B,A){if(typeof this[B]===m){this[B]=A}else{this[B]=f(this[B],A)}};p.noConflict=function(B,A,C){if(typeof this[B]!==m){A[C]=this[B];return true}return false};r.Hydra=p;if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=p}exports.Hydra=p}else{if(typeof define!=="undefined"){define(function(){return p})}}}).call(this);